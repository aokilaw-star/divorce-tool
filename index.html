
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>協議離婚合意書ジェネレーター</title>
  <style>
    body { font-family: "Yu Mincho", "MS Mincho", serif; margin: 20px; background: #f9f9f9; }
    h1 { text-align: center; }
    form { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); margin-bottom: 20px; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select, textarea { width: 100%; padding: 5px; margin-top: 5px; }
    button { margin-top: 15px; padding: 10px 20px; }
    #preview { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); font-size: 12pt; line-height: 1.8; }
    .article-title { font-weight: bold; margin-top: 15px; }
    .signature-line { margin-top: 30px; }
  </style>
</head>
<body>
  <h1>協議離婚合意書ジェネレーター</h1>
  <form id="agreementForm">
    <label>甲の氏名: <input type="text" id="husbandName"></label>
    <label>乙の氏名: <input type="text" id="wifeName"></label>
    <label>子どもの人数:
      <select id="childrenCount">
        <option value="0">なし</option>
        <option value="1">1人</option>
        <option value="2">2人</option>
        <option value="3">3人</option>
      </select>
    </label>
    <div id="childrenDetails"></div>
    <label>年金分割を条項に入れる:
      <select id="pensionDivision">
        <option value="no">入れない</option>
        <option value="yes">入れる</option>
      </select>
    </label>
    <button type="button" onclick="generateAgreement()">合意書を生成</button>
  </form>

  <div id="preview"></div>

  <script>
    document.getElementById('childrenCount').addEventListener('change', function() {
      const count = parseInt(this.value);
      const container = document.getElementById('childrenDetails');
      container.innerHTML = '';
      for (let i = 0; i < count; i++) {
        container.innerHTML += `
          <label>子${i+1}の氏名: <input type="text" id="childName${i}"></label>
          <label>子${i+1}の生年月日: <input type="text" id="childBirth${i}" placeholder="平成○年○月○日"></label>
          <label>子${i+1}の親権者:
            <select id="childCustody${i}">
              <option value="甲">甲</option>
              <option value="乙">乙</option>
            </select>
          </label>
        `;
      }
    });

    function generateAgreement() {
      const husband = document.getElementById('husbandName').value;
      const wife = document.getElementById('wifeName').value;
      const childCount = parseInt(document.getElementById('childrenCount').value);
      const pension = document.getElementById('pensionDivision').value;

      let childrenText = '';
      let custodySummary = '';
      const childSymbols = ['丙','丁','戊'];
      for (let i = 0; i < childCount; i++) {
        const name = document.getElementById(`childName${i}`).value;
        const birth = document.getElementById(`childBirth${i}`).value;
        const custody = document.getElementById(`childCustody${i}`).value;
        childrenText += `未成年の${i==0?'': '及び'}${name}(${birth}生。以下、「${childSymbols[i]}」という。) `;
        custodySummary += `${childSymbols[i]}の親権者を${custody}とし、`;
      }

      let agreement = `<div class='article-title'>第1条(離婚の合意)</div>`;
      agreement += `${husband}(以下、「甲」という。)と${wife}(以下、「乙」という。)は、本日、${childrenText || ''}の親権者を定め、${custodySummary||''}乙において監護養育することとして協議離婚する(以下、「本件離婚」という。)と及びその届け出は乙において速やかに行うことを合意し、かつ本件離婚に伴う給付等について次のとおり合意した。`;

      if (childCount > 0) {
        agreement += `<div class='article-title'>第2条(養育費)</div>`;
        for (let i = 0; i < childCount; i++) {
          agreement += `甲は、${childSymbols[i]}の養育費として、令和○年○月から満20歳に達する日の属する月まで、毎月末日限り金3万円を、乙の指定する口座へ振込送金の方法により支払う。振込手数料は甲の負担とする。<br>`;
        }
      }

      if (pension === 'yes') {
        agreement += `<div class='article-title'>第X条(年金分割)</div>`;
        agreement += `甲は乙に対し、甲乙の婚姻期間中における双方の年金分割の割合を0.5とすることに合意し、その年金分割に必要な手続に協力することを約束する。`;
      }

      agreement += `<div class='signature-line'>

以上

</div>`;
      agreement += `<div class='signature-line'>令和　年　月　日</div>`;
      agreement += `<div class='signature-line'>住所: __________________________</div>`;
      agreement += `<div class='signature-line'>氏名: __________________________</div>`;

      document.getElementById('preview').innerHTML = agreement;
    }
  </script>
</body>
</html>
